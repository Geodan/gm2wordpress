define("NamespaceAuth",["gdmap-core"],function(a){"use strict";return a.auth={},a.auth.version="0.0.4-9",a}),define("AuthUser",["NamespaceAuth"],function(a){"use strict";a.auth.AuthUser=a.core.Class.extend({_id:null,_displayName:null,_organisationName:null,_organisationCode:null,_json:null,initialize:function(a){this._json=a,null!==a&&(this._id=a.id||null,this._displayName=a.displayName||"",a.groups.length>0?(this._organisationName=a.groups[0].name,this._organisationCode=a.groups[0].value):(this._organisationName="",this._organisationCode="")),Object.defineProperty(this,"id",{get:function(){return this._id}}),Object.defineProperty(this,"displayName",{get:function(){return this._displayName}}),Object.defineProperty(this,"organisationName",{get:function(){return this._organisationName}}),Object.defineProperty(this,"organisationCode",{get:function(){return this._organisationCode}}),Object.defineProperty(this,"json",{get:function(){return this._json}})}})}),define("AuthManager",["NamespaceAuth","AuthUser"],function(a){"use strict";a.auth.AuthManager=a.core.Class.extend({statics:{DEFAULT_WHOAMI_SERVICE:"https://services.geodan.nl/accounts/details",DEFAULT_LOGOUT_SERVICE:"https://services.geodan.nl/cas/logout",DEFAULT_FORWARD_URL:"http://www.geodan.nl"},_currentUser:null,initialize:function(a,c,d){this._currentUser=null,this._whoAmIUrl=a?a:b.DEFAULT_WHOAMI_SERVICE,this._logoutUrl=c?c:b.DEFAULT_LOGOUT_SERVICE,this._autoRefresh=void 0===d||null===d?!0:d,Object.defineProperty(this,"currentUser",{get:function(){return this._currentUser}})},identifyUser:function(b){this._currentUser=null;var c=new a.core.RequestManager,d=c.get(this._whoAmIUrl,b),e=this;return d.then(function(b,c,d){-1!==d.getResponseHeader("content-type").indexOf("application/json")?e._currentUser=new a.auth.AuthUser(b):e._autoRefresh&&-1!==d.getResponseHeader("content-type").indexOf("text/html")&&window.location.reload()},function(a,b,c){e._currentUser=null}),d},logout:function(a){this._currentUser=null;var c=this._logoutUrl+"?forwardUrl="+(a?a:b.DEFAULT_FORWARD_URL);window.open(c,"_self")}});var b=a.auth.AuthManager;return a}),define("gdmap-auth",["gdmap-core","AuthManager"],function(a){"use strict";return a});
//# sourceMappingURL=gdmap-auth.min.js.map